<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Testing Stdio Mode - HGNC MCP Server • hgnc.mcp</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Testing Stdio Mode - HGNC MCP Server"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">hgnc.mcp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="articles/normalizing-gene-lists.html">Normalizing Gene Lists</a></li>
    <li><a class="dropdown-item" href="articles/gene-groups.html">Working with Gene Groups</a></li>
    <li><a class="dropdown-item" href="articles/running-mcp-server.html">Running the MCP Server</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/armish/hgnc.mcp" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/armish/hgnc.mcp/pkgs/container/hgnc.mcp" aria-label="Docker Hub"><span class="fa fa-docker"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Testing Stdio Mode - HGNC MCP Server</h1>
      <small class="dont-index">Source: <a href="https://github.com/armish/hgnc.mcp/blob/main/TESTING_STDIO.md" class="external-link"><code>TESTING_STDIO.md</code></a></small>
    </div>

<div id="testing-stdio-mode---hgnc-mcp-server" class="section level1">

<p>This directory contains test harnesses for validating the stdio mode of the HGNC MCP server. Stdio mode is used by Claude Desktop and other MCP clients for local communication.</p>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a></h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Test with Python (recommended)</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">./test_mcp_stdio.py</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co"># Test with Bash (simpler, less detailed)</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="ex">./test-stdio.sh</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="co"># Test specific image</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="ex">./test_mcp_stdio.py</span> <span class="at">--image</span> ghcr.io/armish/hgnc.mcp:latest</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co"># Verbose output for debugging</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="ex">./test_mcp_stdio.py</span> <span class="at">-v</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="test-harnesses">Test Harnesses<a class="anchor" aria-label="anchor" href="#test-harnesses"></a></h2>
<div class="section level3">
<h3 id="id_1-python-test-harness-test_mcp_stdiopy">1. Python Test Harness (<code>test_mcp_stdio.py</code>)<a class="anchor" aria-label="anchor" href="#id_1-python-test-harness-test_mcp_stdiopy"></a></h3>
<p><strong>Recommended</strong> - More comprehensive and easier to extend.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">./test_mcp_stdio.py</span> <span class="pp">[</span><span class="ss">OPTIONS</span><span class="pp">]</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="ex">Options:</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  <span class="ex">--image</span> IMAGE    Docker image to test <span class="er">(</span><span class="ex">default:</span> hgnc-mcp:latest<span class="kw">)</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>  <span class="ex">--timeout</span> N      Timeout in seconds per test <span class="er">(</span><span class="ex">default:</span> 30<span class="kw">)</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="ex">-v,</span> <span class="at">--verbose</span>    Verbose output with full responses</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="ex">Examples:</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>  <span class="co"># Test local build</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>  <span class="ex">./test_mcp_stdio.py</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>  <span class="co"># Test published image</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>  <span class="ex">./test_mcp_stdio.py</span> <span class="at">--image</span> ghcr.io/armish/hgnc.mcp:latest</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>  <span class="co"># Debug mode</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>  <span class="ex">./test_mcp_stdio.py</span> <span class="at">-v</span> <span class="at">--timeout</span> 60</span></code></pre></div>
<p><strong>Features:</strong> - ✅ MCP protocol validation - ✅ JSON-RPC message handling - ✅ Individual tool testing - ✅ Error handling verification - ✅ Detailed test reports - ✅ Exit code for CI/CD integration</p>
</div>
<div class="section level3">
<h3 id="id_2-bash-test-harness-test-stdiosh">2. Bash Test Harness (<code>test-stdio.sh</code>)<a class="anchor" aria-label="anchor" href="#id_2-bash-test-harness-test-stdiosh"></a></h3>
<p>Simpler shell-based testing.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">./test-stdio.sh</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="ex">Environment</span> variables:</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="ex">DOCKER_IMAGE</span>     Docker image to test <span class="er">(</span><span class="ex">default:</span> hgnc-mcp:latest<span class="kw">)</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="ex">TEST_TIMEOUT</span>     Timeout per test in seconds <span class="er">(</span><span class="ex">default:</span> 30<span class="kw">)</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="ex">Examples:</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>  <span class="co"># Test local build</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>  <span class="ex">./test-stdio.sh</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>  <span class="co"># Test with custom timeout</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>  <span class="va">TEST_TIMEOUT</span><span class="op">=</span>60 <span class="ex">./test-stdio.sh</span></span></code></pre></div>
<p><strong>Features:</strong> - ✅ Basic MCP protocol tests - ✅ Tool invocation tests - ✅ Simple output format - ✅ No dependencies (just bash, docker, jq)</p>
</div>
</div>
<div class="section level2">
<h2 id="test-coverage">Test Coverage<a class="anchor" aria-label="anchor" href="#test-coverage"></a></h2>
<p>The test harnesses validate:</p>
<table class="table"><colgroup><col width="20%"><col width="44%"><col width="34%"></colgroup><thead><tr class="header"><th>Test</th>
<th>Description</th>
<th>Protocol</th>
</tr></thead><tbody><tr class="odd"><td><strong>Initialize</strong></td>
<td>MCP handshake</td>
<td>
<code>initialize</code> method</td>
</tr><tr class="even"><td><strong>List Tools</strong></td>
<td>Enumerate available tools</td>
<td>
<code>tools/list</code> method</td>
</tr><tr class="odd"><td><strong>List Resources</strong></td>
<td>Enumerate available resources</td>
<td>
<code>resources/list</code> method</td>
</tr><tr class="even"><td><strong>Call Tools</strong></td>
<td>Execute individual tools</td>
<td>
<code>tools/call</code> method</td>
</tr><tr class="odd"><td><strong>Error Handling</strong></td>
<td>Invalid method errors</td>
<td>Error responses</td>
</tr></tbody></table><div class="section level3">
<h3 id="tested-tools">Tested Tools<a class="anchor" aria-label="anchor" href="#tested-tools"></a></h3>
<ol style="list-style-type: decimal"><li>
<code>GET__tools_info</code> - Get HGNC API metadata</li>
<li>
<code>POST__tools_find</code> - Search for genes</li>
<li>
<code>POST__tools_resolve_symbol</code> - Resolve gene symbols</li>
<li>
<code>POST__tools_normalize_list</code> - Batch normalize symbols</li>
<li>
<code>POST__tools_validate_panel</code> - Validate gene panels</li>
</ol></div>
</div>
<div class="section level2">
<h2 id="integration-with-development-workflow">Integration with Development Workflow<a class="anchor" aria-label="anchor" href="#integration-with-development-workflow"></a></h2>
<div class="section level3">
<h3 id="local-development">Local Development<a class="anchor" aria-label="anchor" href="#local-development"></a></h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># 1. Make code changes</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="ex">vim</span> R/hgnc_mcp_server.R</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co"># 2. Rebuild Docker image</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="ex">docker</span> compose build</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co"># 3. Run stdio tests</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="ex">./test_mcp_stdio.py</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co"># 4. If tests pass, test with Claude Desktop</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co"># (see below)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cicd-integration">CI/CD Integration<a class="anchor" aria-label="anchor" href="#cicd-integration"></a></h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Example GitHub Actions workflow</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Test Stdio Mode</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="fu">  run</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>    docker compose build</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>    ./test_mcp_stdio.py --timeout 60</span></code></pre></div>
<p>The test script exits with: - <code>0</code> if all tests pass - <code>1</code> if any test fails</p>
</div>
</div>
<div class="section level2">
<h2 id="testing-with-claude-desktop">Testing with Claude Desktop<a class="anchor" aria-label="anchor" href="#testing-with-claude-desktop"></a></h2>
<p>After the stdio tests pass, you can test with Claude Desktop:</p>
<div class="section level3">
<h3 id="id_1-update-claude-desktop-config">1. Update Claude Desktop Config<a class="anchor" aria-label="anchor" href="#id_1-update-claude-desktop-config"></a></h3>
<p><strong>macOS</strong>: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="dt">"mcpServers"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>    <span class="dt">"hgnc-local"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>      <span class="dt">"command"</span><span class="fu">:</span> <span class="st">"docker"</span><span class="fu">,</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>      <span class="dt">"args"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>        <span class="st">"run"</span><span class="ot">,</span> <span class="st">"--rm"</span><span class="ot">,</span> <span class="st">"-i"</span><span class="ot">,</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>        <span class="st">"-v"</span><span class="ot">,</span> <span class="st">"hgnc-cache:/home/hgnc/.cache/hgnc"</span><span class="ot">,</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>        <span class="st">"hgnc-mcp:latest"</span><span class="ot">,</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>        <span class="st">"--stdio"</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>      <span class="ot">]</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_2-restart-claude-desktop">2. Restart Claude Desktop<a class="anchor" aria-label="anchor" href="#id_2-restart-claude-desktop"></a></h3>
</div>
<div class="section level3">
<h3 id="id_3-verify-in-claude">3. Verify in Claude<a class="anchor" aria-label="anchor" href="#id_3-verify-in-claude"></a></h3>
<p>Ask Claude: <em>“What MCP servers are available?”</em></p>
<p>You should see <code>hgnc-local</code> listed with its tools.</p>
</div>
</div>
<div class="section level2">
<h2 id="manual-testing">Manual Testing<a class="anchor" aria-label="anchor" href="#manual-testing"></a></h2>
<p>You can manually send MCP messages to test specific scenarios:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Test initialize</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'{"jsonrpc":"2.0","id":1,"method":"initialize","params":{"protocolVersion":"2024-11-05","capabilities":{},"clientInfo":{"name":"test","version":"1.0"}}}'</span> <span class="kw">|</span> <span class="dt">\</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">-i</span> <span class="at">-v</span> hgnc-cache:/home/hgnc/.cache/hgnc hgnc-mcp:latest <span class="at">--stdio</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co"># Test tool list</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="kw">(</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">'{"jsonrpc":"2.0","id":1,"method":"initialize","params":{"protocolVersion":"2024-11-05","capabilities":{},"clientInfo":{"name":"test","version":"1.0"}}}'</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">'{"jsonrpc":"2.0","id":2,"method":"tools/list"}'</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="kw">)</span> <span class="kw">|</span> <span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">-i</span> <span class="at">-v</span> hgnc-cache:/home/hgnc/.cache/hgnc hgnc-mcp:latest <span class="at">--stdio</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co"># Test specific tool</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="kw">(</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">'{"jsonrpc":"2.0","id":1,"method":"initialize","params":{"protocolVersion":"2024-11-05","capabilities":{},"clientInfo":{"name":"test","version":"1.0"}}}'</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">'{"jsonrpc":"2.0","id":2,"method":"tools/call","params":{"name":"POST__tools_find","arguments":{"query":"BRCA"}}}'</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="kw">)</span> <span class="kw">|</span> <span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">-i</span> <span class="at">-v</span> hgnc-cache:/home/hgnc/.cache/hgnc hgnc-mcp:latest <span class="at">--stdio</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a></h2>
<div class="section level3">
<h3 id="tests-timeout">Tests timeout<a class="anchor" aria-label="anchor" href="#tests-timeout"></a></h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Increase timeout</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">./test_mcp_stdio.py</span> <span class="at">--timeout</span> 60</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="server-not-responding">Server not responding<a class="anchor" aria-label="anchor" href="#server-not-responding"></a></h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Check if image exists</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="ex">docker</span> images <span class="kw">|</span> <span class="fu">grep</span> hgnc-mcp</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co"># Rebuild if needed</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="ex">docker</span> compose build</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="co"># Test HTTP mode first</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="ex">docker</span> compose up <span class="at">-d</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="ex">curl</span> http://localhost:8080/__docs__/</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cache-issues">Cache issues<a class="anchor" aria-label="anchor" href="#cache-issues"></a></h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># Clear Docker cache</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="ex">docker</span> volume rm hgnc-cache</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="co"># Re-run tests (will download HGNC data on first run)</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="ex">./test_mcp_stdio.py</span> <span class="at">--timeout</span> 120</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="verbose-debugging">Verbose debugging<a class="anchor" aria-label="anchor" href="#verbose-debugging"></a></h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Run with verbose output</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="ex">./test_mcp_stdio.py</span> <span class="at">-v</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="co"># Check Docker logs</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">-i</span> <span class="at">-v</span> hgnc-cache:/home/hgnc/.cache/hgnc hgnc-mcp:latest <span class="at">--stdio</span> <span class="op">&lt;</span> test_input.json</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="performance-benchmarks">Performance Benchmarks<a class="anchor" aria-label="anchor" href="#performance-benchmarks"></a></h2>
<p>Typical test execution times:</p>
<table class="table"><thead><tr class="header"><th>Test Type</th>
<th>Duration</th>
<th>Notes</th>
</tr></thead><tbody><tr class="odd"><td>Single test</td>
<td>0.7-1.5s</td>
<td>Per test</td>
</tr><tr class="even"><td>Full suite</td>
<td>8-12s</td>
<td>All 9 tests</td>
</tr><tr class="odd"><td>First run</td>
<td>30-60s</td>
<td>Downloads HGNC data</td>
</tr></tbody></table></div>
<div class="section level2">
<h2 id="extending-the-tests">Extending the Tests<a class="anchor" aria-label="anchor" href="#extending-the-tests"></a></h2>
<div class="section level3">
<h3 id="adding-new-test-cases-python">Adding New Test Cases (Python)<a class="anchor" aria-label="anchor" href="#adding-new-test-cases-python"></a></h3>
<p>Edit <code>test_mcp_stdio.py</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="kw">def</span> test_my_custom_tool(<span class="va">self</span>) <span class="op">-&gt;</span> TestResult:</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>    <span class="co">"""Test my custom tool"""</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>    start <span class="op">=</span> time.time()</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>    responses <span class="op">=</span> <span class="va">self</span>.send_sequence([</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>        <span class="co"># Initialize</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>        {</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>            <span class="st">"jsonrpc"</span>: <span class="st">"2.0"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>            <span class="st">"id"</span>: <span class="dv">1</span>,</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>            <span class="st">"method"</span>: <span class="st">"initialize"</span>,</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>            <span class="st">"params"</span>: {...}</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>        },</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>        <span class="co"># Call tool</span></span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a>        {</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a>            <span class="st">"jsonrpc"</span>: <span class="st">"2.0"</span>,</span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a>            <span class="st">"id"</span>: <span class="dv">2</span>,</span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a>            <span class="st">"method"</span>: <span class="st">"tools/call"</span>,</span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a>            <span class="st">"params"</span>: {</span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a>                <span class="st">"name"</span>: <span class="st">"POST__tools_my_tool"</span>,</span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a>                <span class="st">"arguments"</span>: {<span class="st">"arg"</span>: <span class="st">"value"</span>}</span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>            }</span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a>        }</span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a>    ])</span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a>    duration <span class="op">=</span> time.time() <span class="op">-</span> start</span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a></span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(responses) <span class="op">&gt;=</span> <span class="dv">2</span> <span class="kw">and</span> <span class="st">"result"</span> <span class="kw">in</span> responses[<span class="dv">1</span>]:</span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a>        <span class="cf">return</span> TestResult(</span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a>            name<span class="op">=</span><span class="st">"My Custom Tool"</span>,</span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a>            passed<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a>            message<span class="op">=</span><span class="st">"Tool works!"</span>,</span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a>            duration<span class="op">=</span>duration,</span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a>            response<span class="op">=</span>responses[<span class="dv">1</span>]</span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a>        )</span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a></span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a>    <span class="cf">return</span> TestResult(</span>
<span id="cb12-37"><a href="#cb12-37" tabindex="-1"></a>        name<span class="op">=</span><span class="st">"My Custom Tool"</span>,</span>
<span id="cb12-38"><a href="#cb12-38" tabindex="-1"></a>        passed<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb12-39"><a href="#cb12-39" tabindex="-1"></a>        message<span class="op">=</span><span class="st">"Failed"</span>,</span>
<span id="cb12-40"><a href="#cb12-40" tabindex="-1"></a>        duration<span class="op">=</span>duration</span>
<span id="cb12-41"><a href="#cb12-41" tabindex="-1"></a>    )</span>
<span id="cb12-42"><a href="#cb12-42" tabindex="-1"></a></span>
<span id="cb12-43"><a href="#cb12-43" tabindex="-1"></a><span class="co"># Add to test suite in run_all_tests()</span></span>
<span id="cb12-44"><a href="#cb12-44" tabindex="-1"></a>tests <span class="op">=</span> [</span>
<span id="cb12-45"><a href="#cb12-45" tabindex="-1"></a>    <span class="co"># ... existing tests ...</span></span>
<span id="cb12-46"><a href="#cb12-46" tabindex="-1"></a>    <span class="va">self</span>.test_my_custom_tool,</span>
<span id="cb12-47"><a href="#cb12-47" tabindex="-1"></a>]</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adding-new-test-cases-bash">Adding New Test Cases (Bash)<a class="anchor" aria-label="anchor" href="#adding-new-test-cases-bash"></a></h3>
<p>Edit <code>test-stdio.sh</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">run_multi_test</span> <span class="dt">\</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>    <span class="st">"My Custom Tool Test"</span> <span class="dt">\</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>    <span class="st">"Description of what this tests"</span> <span class="dt">\</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>    <span class="st">'{"jsonrpc":"2.0","id":1,"method":"initialize",...}'</span> <span class="dt">\</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>    <span class="st">'{"jsonrpc":"2.0","id":2,"method":"tools/call","params":{...}}'</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="related-documentation">Related Documentation<a class="anchor" aria-label="anchor" href="#related-documentation"></a></h2>
<ul><li>
<a href="./quick-test.sh">Quick Test Script</a> - Full build and test workflow</li>
<li>
<a href="./docker-compose.yml">Docker Compose Setup</a> - Local server setup</li>
<li>
<a href="./README.html">README</a> - General project documentation</li>
</ul></div>
<div class="section level2">
<h2 id="support">Support<a class="anchor" aria-label="anchor" href="#support"></a></h2>
<p>If you encounter issues with the test harnesses:</p>
<ol style="list-style-type: decimal"><li>Check this troubleshooting guide</li>
<li>Review test output with <code>-v</code> flag</li>
<li>Open an issue at <a href="https://github.com/armish/hgnc.mcp/issues" class="external-link uri">https://github.com/armish/hgnc.mcp/issues</a>
</li>
</ol></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>hgnc.mcp is developed by <a href="https://aksoy.org" class="external-link">Bulent Arman Aksoy</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>. HGNC data from <a href="https://www.genenames.org/" class="external-link">genenames.org</a>.</p>
</div>

    </footer></div>





  </body></html>

