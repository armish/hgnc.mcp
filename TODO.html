<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>hgnc.mcp Implementation Roadmap • hgnc.mcp</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="hgnc.mcp Implementation Roadmap"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">hgnc.mcp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="articles/normalizing-gene-lists.html">Normalizing Gene Lists</a></li>
    <li><a class="dropdown-item" href="articles/gene-groups.html">Working with Gene Groups</a></li>
    <li><a class="dropdown-item" href="articles/running-mcp-server.html">Running the MCP Server</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/armish/hgnc.mcp" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/armish/hgnc.mcp/pkgs/container/hgnc.mcp" aria-label="Docker Hub"><span class="fa fa-docker"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>hgnc.mcp Implementation Roadmap</h1>
      <small class="dont-index">Source: <a href="https://github.com/armish/hgnc.mcp/blob/main/TODO.md" class="external-link"><code>TODO.md</code></a></small>
    </div>

<div id="hgncmcp-implementation-roadmap" class="section level1">

<div class="section level2">
<h2 id="vision">Vision<a class="anchor" aria-label="anchor" href="#vision"></a></h2>
<p>Create an MCP server that eliminates “gene name headaches” by providing reliable HGNC nomenclature services to LLM copilots, notebooks, and bioinformatics pipelines. The server will expose HGNC data through three MCP primitives:</p>
<ul><li>
<strong>Tools</strong>: API-shaped actions (search, normalize, validate)</li>
<li>
<strong>Resources</strong>: Read-only gene/group cards for context injection</li>
<li>
<strong>Prompts</strong>: Pre-wired workflow templates</li>
</ul></div>
<div class="section level2">
<h2 id="architecture-overview">Architecture Overview<a class="anchor" aria-label="anchor" href="#architecture-overview"></a></h2>
<p>The implementation will leverage both:</p>
<ol style="list-style-type: decimal"><li>
<strong>Local cached data</strong> (<code>hgnc_complete_set.txt</code>) - for fast bulk operations, offline work, and dictionary lookups</li>
<li>
<strong>HGNC REST API</strong> - for real-time queries, updates, and precise searches</li>
</ol><div class="section level3">
<h3 id="data-strategy-decision-matrix">Data Strategy Decision Matrix<a class="anchor" aria-label="anchor" href="#data-strategy-decision-matrix"></a></h3>
<table class="table"><colgroup><col width="36%"><col width="26%"><col width="36%"></colgroup><thead><tr class="header"><th>Operation</th>
<th>Source</th>
<th>Rationale</th>
</tr></thead><tbody><tr class="odd"><td>Bulk normalize/validate</td>
<td>Local cache</td>
<td>Fast, no rate limits</td>
</tr><tr class="even"><td>Single gene lookup</td>
<td>REST API preferred, cache fallback</td>
<td>Most current data</td>
</tr><tr class="odd"><td>Group queries</td>
<td>REST API</td>
<td>Dynamic, authoritative</td>
</tr><tr class="even"><td>Change tracking</td>
<td>REST API</td>
<td>Requires date filtering</td>
</tr><tr class="odd"><td>Autocomplete</td>
<td>Local cache first</td>
<td>Speed critical</td>
</tr><tr class="even"><td>Cross-references</td>
<td>Either (prefer cache)</td>
<td>Static data</td>
</tr></tbody></table><hr></div>
</div>
<div class="section level2">
<h2 id="status-completed-">Status: Completed ✓<a class="anchor" aria-label="anchor" href="#status-completed-"></a></h2>
<ul class="task-list"><li><label><input type="checkbox" checked>R package scaffolding (<code>hgnc.mcp</code>)</label></li>
<li><label><input type="checkbox" checked>Smart data caching system with versioning</label></li>
<li><label><input type="checkbox" checked>Cache management functions (<code>load_hgnc_data</code>, <code>download_hgnc_data</code>, etc.)</label></li>
<li><label><input type="checkbox" checked>Unit tests for cache functions</label></li>
<li><label><input type="checkbox" checked>Documentation (README, roxygen)</label></li>
</ul><hr></div>
<div class="section level2">
<h2 id="phase-1-hgnc-rest-api-client-mvp-foundation">Phase 1: HGNC REST API Client [MVP Foundation]<a class="anchor" aria-label="anchor" href="#phase-1-hgnc-rest-api-client-mvp-foundation"></a></h2>
<p>Build a robust R client for the HGNC REST API with rate limiting and caching.</p>
<div class="section level3">
<h3 id="id_11-core-rest-client-infrastructure-">1.1 Core REST Client Infrastructure ✓<a class="anchor" aria-label="anchor" href="#id_11-core-rest-client-infrastructure-"></a></h3>
<p><strong>File</strong>: <code>R/hgnc_rest_client.R</code></p>
<ul class="task-list"><li>
<label><input type="checkbox" checked><code><a href="reference/hgnc_rest_get.html">hgnc_rest_get()</a></code> - Base HTTP client with:</label>
<ul><li>Rate limiting (≤10 req/sec) using sliding window algorithm</li>
<li>User-Agent header identifying hgnc.mcp package</li>
<li>Error handling &amp; retries with exponential backoff (httr::RETRY)</li>
<li>JSON parsing with helpful error messages</li>
<li>Optional response caching (in-memory for session via memoise)</li>
</ul></li>
<li>
<label><input type="checkbox" checked><code><a href="reference/hgnc_rest_info_uncached.html">hgnc_rest_info()</a></code> - GET <code>/info</code> endpoint</label>
<ul><li>Returns: <code>lastModified</code>, searchable fields, stored fields</li>
<li>Use for cache invalidation decisions</li>
<li>Cached with memoise for fast repeated calls</li>
</ul></li>
<li>
<label><input type="checkbox" checked>Session-level cache for repeated queries</label>
<ul><li>
<code><a href="reference/clear_hgnc_cache.html">clear_hgnc_cache()</a></code> to manually clear cache</li>
<li>
<code><a href="reference/reset_rate_limiter.html">reset_rate_limiter()</a></code> for testing</li>
</ul></li>
<li>
<label><input type="checkbox" checked>Tests for REST client in <code>tests/testthat/test-hgnc_rest_client.R</code></label>
<ul><li>Rate limiting tests</li>
<li>Live API integration tests</li>
<li>Caching behavior tests</li>
<li>Error handling tests</li>
</ul></li>
</ul><p><strong>Dependencies added</strong>: <code>httr</code>, <code>memoise</code>, <code>lubridate</code>, <code>curl</code> (testing)</p>
</div>
<div class="section level3">
<h3 id="id_12-essential-lookup-tools-">1.2 Essential Lookup Tools ✓<a class="anchor" aria-label="anchor" href="#id_12-essential-lookup-tools-"></a></h3>
<p><strong>File</strong>: <code>R/hgnc_tools.R</code></p>
<p>Implement the minimal viable tool set:</p>
<ul class="task-list"><li>
<label><input type="checkbox" checked><strong><code>hgnc_find(query, filters = NULL)</code></strong></label>
<ul><li>Wraps <code>/search</code> endpoint</li>
<li>Search across symbol, alias, prev_symbol, name</li>
<li>Return hits with scores and match reasons</li>
<li>Support filters: status, locus_type, etc.</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>hgnc_fetch(field, term)</code></strong></label>
<ul><li>Wraps <code>/fetch/{field}/{term}</code>
</li>
<li>Common fields: <code>hgnc_id</code>, <code>symbol</code>, <code>entrez_id</code>, <code>ensembl_gene_id</code>
</li>
<li>Return full gene “card” with all stored fields</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>hgnc_resolve_symbol(symbol, mode = "lenient")</code></strong></label>
<ul><li>
<code>strict</code>: exact approved symbol only</li>
<li>
<code>lenient</code>: search symbol|alias|prev, then fetch by hgnc_id</li>
<li>Return: approved symbol, status, confidence, candidates if ambiguous</li>
<li>Handle case normalization (HGNC uses uppercase)</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>hgnc_xrefs(id_or_symbol)</code></strong></label>
<ul><li>Extract cross-references from gene record</li>
<li>Return: NCBI Gene, Ensembl, UniProt, OMIM, CCDS, MANE Select</li>
<li>Useful for dataset harmonization</li>
</ul></li>
<li><label><input type="checkbox" checked>Tests for lookup functions</label></li>
<li><label><input type="checkbox" checked>Documentation and usage examples in <code>EXAMPLES.md</code></label></li>
</ul></div>
<div class="section level3">
<h3 id="id_13-batch-operations-using-cached-data-">1.3 Batch Operations (Using Cached Data) ✓<a class="anchor" aria-label="anchor" href="#id_13-batch-operations-using-cached-data-"></a></h3>
<p><strong>File</strong>: <code>R/hgnc_batch.R</code></p>
<ul class="task-list"><li>
<label><input type="checkbox" checked><strong><code>hgnc_normalize_list(symbols, return_fields, status = "Approved", dedupe = TRUE, index = NULL)</code></strong></label>
<ul><li>Batch resolver using local cache for speed</li>
<li>Upper-case, trim, dedupe by HGNC ID</li>
<li>Flag invalid/withdrawn</li>
<li>Return clean table ready for downstream use</li>
<li>Emit warnings/reports for problematic entries</li>
<li>Support for reusing pre-built index for efficiency</li>
</ul></li>
<li>
<label><input type="checkbox" checked>Helper: <code><a href="reference/build_symbol_index.html">build_symbol_index()</a></code> - Create in-memory lookup from cached data</label>
<ul><li>Index by: symbol, alias_symbol, prev_symbol</li>
<li>Map to hgnc_id for fast resolution</li>
<li>Handles ambiguous matches</li>
</ul></li>
<li>
<label><input type="checkbox" checked>Tests for batch operations</label>
<ul><li>Unit tests with mock data</li>
<li>Integration tests with cached data</li>
<li>Edge case handling (duplicates, ambiguous, withdrawn, empty)</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="id_14-groups--collections-">1.4 Groups &amp; Collections ✓<a class="anchor" aria-label="anchor" href="#id_14-groups--collections-"></a></h3>
<p><strong>File</strong>: <code>R/hgnc_groups.R</code></p>
<ul class="task-list"><li>
<label><input type="checkbox" checked><strong><code>hgnc_group_members(group_id_or_name)</code></strong></label>
<ul><li>Use REST API <code>/fetch/gene_group/{id}</code>
</li>
<li>Return members with IDs and xrefs</li>
<li>Cache results (groups don’t change often)</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>hgnc_search_groups(query)</code></strong></label>
<ul><li>Find gene groups by keyword</li>
<li>Return group IDs, names, descriptions</li>
</ul></li>
<li><label><input type="checkbox" checked>Tests for group functions</label></li>
</ul></div>
<div class="section level3">
<h3 id="id_15-change-tracking--validation-">1.5 Change Tracking &amp; Validation ✓<a class="anchor" aria-label="anchor" href="#id_15-change-tracking--validation-"></a></h3>
<p><strong>File</strong>: <code>R/hgnc_changes.R</code></p>
<ul class="task-list"><li>
<label><input type="checkbox" checked><strong><code>hgnc_changes(since, fields = c("symbol", "name", "status"))</code></strong></label>
<ul><li>Query genes with date_* fields ≥ since</li>
<li>Return before/after values where available</li>
<li>Useful for watchlists and compliance</li>
<li>Supports multiple change types: all, symbol, name, status, modified</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>hgnc_validate_panel(items, policy = "HGNC")</code></strong></label>
<ul><li>QA gene lists against HGNC policy</li>
<li>Report: non-approved, withdrawn, duplicates</li>
<li>Suggest replacements with rationale and dates</li>
<li>Use prev_symbol/alias_symbol for mapping</li>
<li>Comprehensive validation with human-readable reports</li>
</ul></li>
<li><label><input type="checkbox" checked>Tests for validation functions in <code>tests/testthat/test-hgnc_changes.R</code></label></li>
<li><label><input type="checkbox" checked>Documentation and examples in <code>EXAMPLES.md</code></label></li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="phase-2-mcp-server-implementation-core-deliverable">Phase 2: MCP Server Implementation [Core Deliverable]<a class="anchor" aria-label="anchor" href="#phase-2-mcp-server-implementation-core-deliverable"></a></h2>
<p>Integrate with plumber2mcp to expose HGNC tools via MCP protocol.</p>
<div class="section level3">
<h3 id="id_21-plumber-api-definitions">2.1 Plumber API Definitions<a class="anchor" aria-label="anchor" href="#id_21-plumber-api-definitions"></a></h3>
<p><strong>File</strong>: <code>inst/plumber/hgnc_api.R</code></p>
<p>Create Plumber endpoints that wrap our HGNC functions:</p>
<ul class="task-list"><li><p><label><input type="checkbox">Setup plumber router</label></p></li>
<li>
<p><label><input type="checkbox">Define endpoints for each tool:</label></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#* @post /tools/find</span></span>
<span><span class="co">#* @param query:str The search query</span></span>
<span><span class="co">#* @param filters:object Optional filters</span></span>
<span><span class="va">endpoint_find</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">query</span>, <span class="va">filters</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="reference/hgnc_find.html">hgnc_find</a></span><span class="op">(</span><span class="va">query</span>, <span class="va">filters</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</li>
<li>
<p><label><input type="checkbox">Endpoints needed:</label></p>
<ul><li>
<code>/tools/info</code> → <code><a href="reference/hgnc_rest_info_uncached.html">hgnc_rest_info()</a></code>
</li>
<li>
<code>/tools/find</code> → <code><a href="reference/hgnc_find.html">hgnc_find()</a></code>
</li>
<li>
<code>/tools/fetch</code> → <code><a href="reference/hgnc_fetch.html">hgnc_fetch()</a></code>
</li>
<li>
<code>/tools/resolve_symbol</code> → <code><a href="reference/hgnc_resolve_symbol.html">hgnc_resolve_symbol()</a></code>
</li>
<li>
<code>/tools/normalize_list</code> → <code><a href="reference/hgnc_normalize_list.html">hgnc_normalize_list()</a></code>
</li>
<li>
<code>/tools/xrefs</code> → <code><a href="reference/hgnc_xrefs.html">hgnc_xrefs()</a></code>
</li>
<li>
<code>/tools/group_members</code> → <code><a href="reference/hgnc_group_members_uncached.html">hgnc_group_members()</a></code>
</li>
<li>
<code>/tools/search_groups</code> → <code><a href="reference/hgnc_search_groups.html">hgnc_search_groups()</a></code>
</li>
<li>
<code>/tools/changes</code> → <code><a href="reference/hgnc_changes.html">hgnc_changes()</a></code>
</li>
<li>
<code>/tools/validate_panel</code> → <code><a href="reference/hgnc_validate_panel.html">hgnc_validate_panel()</a></code>
</li>
</ul></li>
<li><p><label><input type="checkbox">Error handling and validation</label></p></li>
<li><p><label><input type="checkbox">OpenAPI documentation via Plumber decorators</label></p></li>
</ul></div>
<div class="section level3">
<h3 id="id_22-mcp-integration-with-plumber2mcp-">2.2 MCP Integration with plumber2mcp ✓<a class="anchor" aria-label="anchor" href="#id_22-mcp-integration-with-plumber2mcp-"></a></h3>
<p><strong>File</strong>: <code>R/mcp_server.R</code></p>
<ul class="task-list"><li>
<label><input type="checkbox" checked><strong><code>start_hgnc_mcp_server(port = 8080, ...)</code></strong></label>
<ul><li>Initialize plumber API</li>
<li>Apply <code>pr_mcp()</code> from plumber2mcp</li>
<li>Start server</li>
<li>Print connection info</li>
</ul></li>
<li><label><input type="checkbox" checked>Server configuration and startup script</label></li>
<li><label><input type="checkbox" checked>Documentation for running the server</label></li>
</ul><p><strong>File</strong>: <code>inst/scripts/run_server.R</code> (executable script)</p>
<ul class="task-list"><li><label><input type="checkbox" checked>Standalone server launcher</label></li>
<li><label><input type="checkbox" checked>Command-line argument parsing (port, cache settings, etc.)</label></li>
</ul></div>
<div class="section level3">
<h3 id="id_23-mcp-resources-implementation-">2.3 MCP Resources Implementation ✓<a class="anchor" aria-label="anchor" href="#id_23-mcp-resources-implementation-"></a></h3>
<p>Resources provide read-only context injection.</p>
<p><strong>Implementation Note</strong>: As of this implementation, <code>plumber2mcp</code> does not support resource templates with dynamic URI parameters (e.g., <code>{hgnc_id}</code>). We implemented a hybrid approach using tool endpoints that provide resource-like functionality.</p>
<ul class="task-list"><li>
<label><input type="checkbox" checked><strong><code>get_gene_card</code> tool</strong> (replaces <code>resource://hgnc/gene/{hgnc_id}</code>)</label>
<ul><li>Minimal gene card: symbol, name, location, status, aliases, prev_symbols, xrefs, groups, MANE</li>
<li>Format as structured JSON/markdown/text for LLM context</li>
<li>Function: <code>hgnc_get_gene_card(hgnc_id, format)</code>
</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>get_group_card</code> tool</strong> (replaces <code>resource://hgnc/group/{id_or_slug}</code>)</label>
<ul><li>Group summary + members</li>
<li>Include group description and size</li>
<li>Function: <code>hgnc_get_group_card(group_id_or_name, format, include_members)</code>
</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>snapshot</code> resource endpoint</strong></label>
<ul><li>Metadata for cached snapshot (URL, date, columns, row count)</li>
<li>Useful for provenance</li>
<li>Endpoint: <code>GET /resources/snapshot</code>
</li>
<li>Function: <code>hgnc_get_snapshot_metadata(format)</code>
</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>get_changes_summary</code> tool</strong> (replaces <code>resource://hgnc/changes/since/{ISO_date}</code>)</label>
<ul><li>Compact change log (IDs, symbols, dates)</li>
<li>Function: <code>hgnc_get_changes_summary(since, format, change_type, max_results)</code>
</li>
</ul></li>
</ul><p><strong>Files Created/Modified</strong>: - <code>R/hgnc_resources.R</code> - New file with resource helper functions - <code>inst/plumber/hgnc_api.R</code> - Added resource endpoints - <code>R/mcp_server.R</code> - Updated documentation and startup info - <code>NAMESPACE</code> - Added exports for new resource functions</p>
<p><strong>Future Enhancement</strong>: When <code>plumber2mcp</code> adds support for resource templates, these tool-based resources can be migrated to proper parameterized resources using the <code>pr_mcp_resource()</code> function with URI templates.</p>
</div>
<div class="section level3">
<h3 id="id_24-mcp-prompts-workflow-templates-">2.4 MCP Prompts (Workflow Templates) ✓<a class="anchor" aria-label="anchor" href="#id_24-mcp-prompts-workflow-templates-"></a></h3>
<p>Pre-configured multi-step workflows:</p>
<ul class="task-list"><li>
<label><input type="checkbox" checked><strong><code>normalize-gene-list</code></strong></label>
<ul><li>Args: gene_list, strictness, return_xrefs</li>
<li>Guides through normalizing gene symbols to approved HGNC nomenclature</li>
<li>Orchestrates find/resolve/fetch workflow</li>
<li>Returns structured guidance for tidy table + warnings</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>check-nomenclature-compliance</code></strong></label>
<ul><li>Args: panel_text, file_uri</li>
<li>Validates gene panels against HGNC policy</li>
<li>Identifies non-approved symbols, withdrawn genes, duplicates</li>
<li>Returns report with replacement suggestions and rationale</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>what-changed-since</code></strong></label>
<ul><li>Args: since (ISO date)</li>
<li>Generates human-readable nomenclature change reports</li>
<li>Categorizes changes by type (symbol, status, name)</li>
<li>Useful for governance and compliance tracking</li>
</ul></li>
<li>
<label><input type="checkbox" checked><strong><code>build-gene-set-from-group</code></strong></label>
<ul><li>Args: group_query</li>
<li>Discovers HGNC gene groups by keyword search</li>
<li>Builds reusable gene set definitions from members</li>
<li>Provides output in multiple formats (list, table, JSON)</li>
</ul></li>
</ul><p><strong>Implementation Notes</strong>: - Created <code>R/hgnc_prompts.R</code> with helper functions for generating prompt content - Registered prompts in <code>R/mcp_server.R</code> using conditional loading - Each prompt provides structured workflow guidance for multi-step tasks - Prompts help AI assistants understand how to use multiple tools together - Updated documentation in README and function roxygen comments</p>
<p><strong>Current Status (2025-11-07)</strong>: - Prompt functions are fully implemented and tested - Prompts are conditionally registered (will auto-enable when available) - Awaiting <code>plumber2mcp</code> NAMESPACE update to export <code>pr_mcp_prompt()</code> - The function exists in plumber2mcp with @export tag but NAMESPACE not regenerated - Once plumber2mcp is updated, prompts will work automatically without code changes</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="phase-3-enhanced-features-post-mvp">Phase 3: Enhanced Features [Post-MVP]<a class="anchor" aria-label="anchor" href="#phase-3-enhanced-features-post-mvp"></a></h2>
<div class="section level3">
<h3 id="id_31-advanced-tools">3.1 Advanced Tools<a class="anchor" aria-label="anchor" href="#id_31-advanced-tools"></a></h3>
<ul class="task-list"><li>
<label><input type="checkbox"><strong><code>hgnc_autocomplete(prefix, limit = 20)</code></strong></label>
<ul><li>Fast type-ahead using local cache</li>
<li>Fallback to REST <code>/search/symbol/{prefix}*</code>
</li>
<li>Optimize for UI responsiveness</li>
</ul></li>
<li>
<label><input type="checkbox"><strong><code>hgnc_download_snapshot(kind, format)</code></strong></label>
<ul><li>Expose bulk download functionality</li>
<li>Kinds: <code>hgnc_complete_set</code>, <code>withdrawn</code>
</li>
<li>Formats: <code>tsv</code>, <code>json</code>
</li>
<li>Return local cache path + version info</li>
</ul></li>
<li>
<label><input type="checkbox"><strong><code>hgnc_diff_snapshots(version_a, version_b)</code></strong></label>
<ul><li>Compare two cached versions</li>
<li>Report: added, removed, renamed, withdrawn</li>
<li>Useful for audit logs</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="id_32-vgnc-orthologs-optional">3.2 VGNC Orthologs (Optional)<a class="anchor" aria-label="anchor" href="#id_32-vgnc-orthologs-optional"></a></h3>
<ul class="task-list"><li>
<label><input type="checkbox"><strong><code>vgnc_orthologs(hgnc_id, species = NULL)</code></strong></label>
<ul><li>Query VGNC for vertebrate orthologs</li>
<li>Map back to human HGNC IDs</li>
<li>Cross-species reference tool</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="id_33-performance--scalability">3.3 Performance &amp; Scalability<a class="anchor" aria-label="anchor" href="#id_33-performance--scalability"></a></h3>
<ul class="task-list"><li><label><input type="checkbox">Benchmark REST API rate limiting</label></li>
<li><label><input type="checkbox">Optimize bulk operations with local cache</label></li>
<li><label><input type="checkbox">Add persistent disk cache for REST responses (SQLite or similar)</label></li>
<li><label><input type="checkbox">Implement smart cache invalidation using <code>/info</code> lastModified</label></li>
</ul></div>
<div class="section level3">
<h3 id="id_34-extended-resources">3.4 Extended Resources<a class="anchor" aria-label="anchor" href="#id_34-extended-resources"></a></h3>
<ul class="task-list"><li><label><input type="checkbox"><code>resource://hgnc/locus_types</code> - Enumeration of valid locus types</label></li>
<li><label><input type="checkbox"><code>resource://hgnc/statistics</code> - Dataset stats (counts by status, locus type)</label></li>
<li><label><input type="checkbox"><code>resource://hgnc/help/{topic}</code> - Contextual help for tools</label></li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="phase-4-polish--distribution-production-ready">Phase 4: Polish &amp; Distribution [Production-Ready]<a class="anchor" aria-label="anchor" href="#phase-4-polish--distribution-production-ready"></a></h2>
<div class="section level3">
<h3 id="id_41-documentation-">4.1 Documentation ✓<a class="anchor" aria-label="anchor" href="#id_41-documentation-"></a></h3>
<ul class="task-list"><li>
<label><input type="checkbox" checked>Vignettes:</label>
<ul><li>“Getting Started with hgnc.mcp”</li>
<li>“Normalizing Gene Lists for Clinical Panels”</li>
<li>“Running the MCP Server”</li>
<li>“Working with HGNC Gene Groups”</li>
</ul></li>
<li>
<label><input type="checkbox" checked>Update README with:</label>
<ul><li>MCP server setup instructions</li>
<li>Client connection examples</li>
<li>Real-world use cases</li>
<li>API reference links</li>
</ul></li>
<li><label><input type="checkbox" checked>Function documentation complete with examples</label></li>
<li><label><input type="checkbox" checked>MCP tool/resource discovery documentation</label></li>
</ul></div>
<div class="section level3">
<h3 id="id_42-testing--quality">4.2 Testing &amp; Quality<a class="anchor" aria-label="anchor" href="#id_42-testing--quality"></a></h3>
<ul class="task-list"><li><label><input type="checkbox">Unit tests for all functions (&gt;80% coverage)</label></li>
<li>
<label><input type="checkbox">Integration tests:</label>
<ul><li>REST API interactions (use testthat with skip_on_cran)</li>
<li>MCP server endpoints</li>
<li>Batch operations with realistic data</li>
</ul></li>
<li><label><input type="checkbox">Mock HGNC responses for offline testing</label></li>
<li><label><input type="checkbox">Snapshot tests for gene cards and reports</label></li>
<li><label><input type="checkbox">Performance benchmarks</label></li>
</ul></div>
<div class="section level3">
<h3 id="id_43-devops--deployment-">4.3 DevOps &amp; Deployment ✓<a class="anchor" aria-label="anchor" href="#id_43-devops--deployment-"></a></h3>
<ul class="task-list"><li><label><input type="checkbox" checked>Docker image for MCP server</label></li>
<li><label><input type="checkbox" checked>Docker Compose example with client</label></li>
<li>
<label><input type="checkbox" checked>CI/CD pipeline (GitHub Actions):</label>
<ul><li>R CMD check (existing)</li>
<li>Unit tests (existing)</li>
<li>Integration tests (new)</li>
<li>Docker build (new)</li>
</ul></li>
<li>
<label><input type="checkbox" checked>Example MCP client configurations:</label>
<ul><li>Claude Desktop</li>
<li>Other MCP clients (generic examples)</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="id_44-distribution-">4.4 Distribution ✓<a class="anchor" aria-label="anchor" href="#id_44-distribution-"></a></h3>
<ul class="task-list"><li>
<label><input type="checkbox" checked>Prepare for CRAN submission:</label>
<ul><li>Package size checked (1.1 MB - well under limit)</li>
<li>Created cran-comments.md with submission notes</li>
<li>Created NEWS.md with changelog</li>
<li>Updated DESCRIPTION for CRAN compliance</li>
<li>Added DOI reference for HGNC database</li>
<li>Added URL and BugReports fields</li>
<li>Added ORCID for author</li>
</ul></li>
<li>
<label><input type="checkbox" checked>GitHub repository setup:</label>
<ul><li>README badges (R-CMD-check, codecov, Docker, lifecycle, license)</li>
<li>Contributing guidelines (CONTRIBUTING.md)</li>
<li>Issue templates (bug report, feature request)</li>
<li>PR template</li>
<li>Updated .Rbuildignore for distribution</li>
</ul></li>
<li>
<label><input type="checkbox" checked>pkgdown website:</label>
<ul><li>Created _pkgdown.yml with full configuration</li>
<li>Set up reference documentation organization</li>
<li>Configured navbar and footer</li>
<li>Created pkgdown.yaml GitHub Actions workflow</li>
<li>Website will be available at <a href="https://armish.github.io/hgnc.mcp/" class="uri">https://armish.github.io/hgnc.mcp/</a>
</li>
</ul></li>
<li><label><input type="checkbox">Announcement blog post / tweet (when ready for release)</label></li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="implementation-notes--best-practices">Implementation Notes &amp; Best Practices<a class="anchor" aria-label="anchor" href="#implementation-notes--best-practices"></a></h2>
<div class="section level3">
<h3 id="rate-limiting-strategy">Rate Limiting Strategy<a class="anchor" aria-label="anchor" href="#rate-limiting-strategy"></a></h3>
<p>HGNC requests ≤10 req/sec:</p>
<ul><li>Implement token bucket or leaky bucket algorithm</li>
<li>Use <code><a href="https://httr.r-lib.org/reference/RETRY.html" class="external-link">httr::RETRY()</a></code> with exponential backoff</li>
<li>Session-level request counter</li>
<li>Consider <code>ratelimitr</code> package</li>
</ul></div>
<div class="section level3">
<h3 id="id-first-philosophy">ID-First Philosophy<a class="anchor" aria-label="anchor" href="#id-first-philosophy"></a></h3>
<ul><li>Internally normalize to <code>HGNC:####</code> (or just numeric ID)</li>
<li>Treat symbol strings as presentation layer</li>
<li>Deduplicate by HGNC ID, not by symbol string</li>
<li>Store mappings: symbol → hgnc_id → canonical data</li>
</ul></div>
<div class="section level3">
<h3 id="ambiguity-handling">Ambiguity Handling<a class="anchor" aria-label="anchor" href="#ambiguity-handling"></a></h3>
<p>When multiple matches found:</p>
<ul><li>Return all candidates with match metadata:
<ul><li>Matched via: symbol | alias_symbol | prev_symbol</li>
<li>Score (if available)</li>
<li>Status (Approved vs Withdrawn)</li>
<li>Locus type and location for disambiguation</li>
</ul></li>
<li>Let caller decide or prompt for selection</li>
</ul></div>
<div class="section level3">
<h3 id="field-coverage">Field Coverage<a class="anchor" aria-label="anchor" href="#field-coverage"></a></h3>
<p>Include key stored fields in gene records:</p>
<ul><li>Identifiers: <code>hgnc_id</code>, <code>symbol</code>, <code>name</code>
</li>
<li>Status: <code>status</code>, <code>locus_type</code>, <code>location</code>
</li>
<li>Aliases: <code>alias_symbol</code>, <code>prev_symbol</code>
</li>
<li>Cross-refs: <code>entrez_id</code>, <code>ensembl_gene_id</code>, <code>uniprot_id</code>, <code>omim_id</code>, <code>ccds_id</code>, <code>mane_select</code>, <code>agr</code>
</li>
<li>Groups: <code>gene_group</code>, <code>gene_group_id</code>
</li>
<li>Dates: <code>date_symbol_changed</code>, <code>date_name_changed</code>, <code>date_modified</code>, <code>date_approved_reserved</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="caching-strategy">Caching Strategy<a class="anchor" aria-label="anchor" href="#caching-strategy"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>In-memory session cache</strong>: Frequent identical queries (use <code>memoise</code>)</li>
<li>
<strong>Persistent disk cache</strong>: Bulk data snapshots (already implemented)</li>
<li>
<strong>Optional SQLite cache</strong>: REST API responses with TTL</li>
<li>
<strong>Cache invalidation</strong>: Check <code>/info</code> lastModified vs cache timestamp</li>
</ol></div>
<div class="section level3">
<h3 id="error-messages">Error Messages<a class="anchor" aria-label="anchor" href="#error-messages"></a></h3>
<p>User-friendly errors with actionable guidance:</p>
<ul><li>“Symbol ‘XYZ’ not found. Did you mean ‘XYZ1’? (approved symbol)”</li>
<li>“Gene ‘ABC’ is Withdrawn. Suggested replacement: ‘DEF’ (changed 2023-05-15)”</li>
<li>“Ambiguous: ‘KIT’ matches 3 genes. Specify HGNC ID or use filters.”</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="minimal-viable-product-ship-first">Minimal Viable Product (Ship First)<a class="anchor" aria-label="anchor" href="#minimal-viable-product-ship-first"></a></h2>
<p><strong>Goal</strong>: Deliver a working MCP server with core normalization capabilities.</p>
<div class="section level3">
<h3 id="mvp-checklist">MVP Checklist<a class="anchor" aria-label="anchor" href="#mvp-checklist"></a></h3>
<p><strong>Phase 1 (Core Functions)</strong>: - [x] REST client with rate limiting - [x] <code><a href="reference/hgnc_find.html">hgnc_find()</a></code>, <code><a href="reference/hgnc_fetch.html">hgnc_fetch()</a></code>, <code><a href="reference/hgnc_resolve_symbol.html">hgnc_resolve_symbol()</a></code> - [x] <code><a href="reference/hgnc_normalize_list.html">hgnc_normalize_list()</a></code> (batch, using cache) - [x] <code><a href="reference/hgnc_xrefs.html">hgnc_xrefs()</a></code> - [x] <code><a href="reference/hgnc_group_members_uncached.html">hgnc_group_members()</a></code> - [x] <code><a href="reference/hgnc_changes.html">hgnc_changes()</a></code> - [x] <code><a href="reference/hgnc_validate_panel.html">hgnc_validate_panel()</a></code></p>
<p><strong>Phase 2 (MCP Server)</strong>: - [x] Plumber API with all MVP tools - [x] MCP integration via <code>plumber2mcp</code> - [x] Resources: <code>gene/*</code>, <code>group/*</code>, <code>snapshot</code>, <code>changes/*</code> - [x] Prompts: All 4 workflow templates (normalize, compliance, changes, gene sets)</p>
<p><strong>Phase 4 (Launch-Ready)</strong>: - [ ] Basic documentation (README + function docs) - [ ] Docker image - [ ] Example client config - [ ] Unit tests for MVP functions</p>
<p><strong>Ship MVP when</strong>: All above items complete, server runs, and one end-to-end workflow (normalize gene list) works from an MCP client.</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="future-ideas-beyond-mvp">Future Ideas (Beyond MVP)<a class="anchor" aria-label="anchor" href="#future-ideas-beyond-mvp"></a></h2>
<ul class="task-list"><li><label><input type="checkbox">Web UI dashboard for cache management and server status</label></li>
<li><label><input type="checkbox">Scheduled cache refresh (cron job or background worker)</label></li>
<li><label><input type="checkbox">Metrics/telemetry: query patterns, error rates, cache hit rates</label></li>
<li><label><input type="checkbox">Multi-species support (MGI, RGD, etc.) via parallel servers</label></li>
<li><label><input type="checkbox">Graph-based gene relationship explorer (families, pathways)</label></li>
<li><label><input type="checkbox">Integration with other nomenclature resources (COSMIC, ClinVar)</label></li>
<li><label><input type="checkbox">Batch job mode: process large files asynchronously</label></li>
</ul><hr></div>
<div class="section level2">
<h2 id="success-metrics">Success Metrics<a class="anchor" aria-label="anchor" href="#success-metrics"></a></h2>
<ul><li>
<strong>Functional</strong>: MCP client can normalize 1000 gene symbols in &lt;5 seconds</li>
<li>
<strong>Reliability</strong>: &gt;99% cache hit rate for common symbols after warmup</li>
<li>
<strong>Accuracy</strong>: 100% agreement with HGNC for approved symbols</li>
<li>
<strong>Usability</strong>: New user can start server and normalize a gene list in &lt;5 minutes</li>
<li>
<strong>Adoption</strong>: Used by ≥3 real bioinformatics workflows</li>
</ul><hr></div>
<div class="section level2">
<h2 id="dependencies-summary">Dependencies Summary<a class="anchor" aria-label="anchor" href="#dependencies-summary"></a></h2>
<p><strong>Already in DESCRIPTION</strong>: - plumber, plumber2mcp, jsonlite, httr, rappdirs, readr</p>
<p><strong>To add</strong>: - <code>httr2</code> (modern HTTP client, or stick with httr) - <code>memoise</code> (session caching) - <code>ratelimitr</code> or custom rate limiting - <code>lubridate</code> (date handling for change tracking) - <code>dplyr</code>, <code>purrr</code> (data wrangling, optional but recommended) - <code>glue</code> (string formatting)</p>
<p><strong>Optional</strong>: - <code>DBI</code>, <code>RSQLite</code> (persistent REST cache) - <code>furrr</code> (parallel processing for batch ops) - <code>logger</code> (structured logging)</p>
<hr></div>
<div class="section level2">
<h2 id="timeline-estimate">Timeline Estimate<a class="anchor" aria-label="anchor" href="#timeline-estimate"></a></h2>
<ul><li>
<strong>Phase 1</strong>: 2-3 weeks (REST client + core tools)</li>
<li>
<strong>Phase 2</strong>: 1-2 weeks (MCP server integration)</li>
<li>
<strong>MVP Launch</strong>: ~1 month total</li>
<li>
<strong>Phase 3</strong>: 2-3 weeks (enhanced features)</li>
<li>
<strong>Phase 4</strong>: 1-2 weeks (polish, docs, distribution)</li>
</ul><p><strong>Total to production-ready</strong>: ~2-3 months part-time</p>
<hr></div>
<div class="section level2">
<h2 id="getting-started-next-immediate-steps">Getting Started: Next Immediate Steps<a class="anchor" aria-label="anchor" href="#getting-started-next-immediate-steps"></a></h2>
<ol style="list-style-type: decimal"><li>✅ Review and finalize this TODO.md</li>
<li>⬜ Set up HGNC REST API client skeleton (<code>R/hgnc_rest_client.R</code>)</li>
<li>⬜ Implement <code><a href="reference/hgnc_rest_info_uncached.html">hgnc_rest_info()</a></code> and test against live API</li>
<li>⬜ Add rate limiting to base client</li>
<li>⬜ Implement <code><a href="reference/hgnc_find.html">hgnc_find()</a></code> and <code><a href="reference/hgnc_fetch.html">hgnc_fetch()</a></code> with tests</li>
<li>⬜ Build <code><a href="reference/hgnc_resolve_symbol.html">hgnc_resolve_symbol()</a></code> on top of find/fetch</li>
</ol><p><strong>First concrete milestone</strong>: Successfully resolve “BRCA1” → full gene record via REST API.</p>
<hr><p><em>Last updated: 2025-11-06</em></p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>hgnc.mcp is developed by <a href="https://aksoy.org" class="external-link">Bulent Arman Aksoy</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>. HGNC data from <a href="https://www.genenames.org/" class="external-link">genenames.org</a>.</p>
</div>

    </footer></div>





  </body></html>

